<!DOCTYPE html>
<html lang="en">

 
  <!-- A VR Lab by Sofia Lopez - Jose L. Rubio - D.Puyol - URJC-->
 
  <head>
    ...
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-babia-components/dist/aframe-babia-components.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.0.0/dist/aframe-environment-component.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.0/dist/aframe-extras.min.js"></script>
  </head>

  <body>
    <a-scene fog="type: exponential; color: #f4f2ff; density: 0.001; near: 0; far: 30">
      
      
      
      <!-- Environment : imagen extraida del banco PolyHaven - https://polyhaven.com/a/buikslotermeerplein -->

      <a-sky src="https://cdn.glitch.me/c27b5a24-03e8-4d81-8282-d592f4b091da/HDRI_01.jpg?v=1723049202887" rotation="0 0 0"></a-sky>
      
      <!-- Light  -->
        
      <a-light type="point" intensity="0.1" position="3 2.9 -3.2" color ="#ffffff"></a-light>
      <a-light type="point" intensity="0.1" position="3 2.9 0" color ="#ffffff"></a-light>
      <a-light type="point" intensity="0.1" position="3 2.9 3.2" color ="#ffffff"></a-light>
      <a-light type="point" intensity="0.1" position="0 2.9 -3.2" color ="#ffffff"></a-light>
      <a-light type="point" intensity="0.1" position="0 2.9 0" color ="#ffffff"></a-light>
      <a-light type="point" intensity="0.1" position="0 2.9 3.2" color ="#ffffff"></a-light>
      <a-light type="hemisphere" color="#ffffff" intensity="0.6"></a-light>
      
     
      <!-- Camera -->
      <a-entity movement-controls="fly: false" position="0 0 0">
        <a-entity camera position="0 1.6 0" look-controls></a-entity>
        <a-entity cursor="rayOrigin:mouse"></a-entity>
        <a-entity laser-controls="hand: right"></a-entity>
      </a-entity>

      <!-- Reference sphere-->
       <a-sphere position="0 0 0" radius="0.2" color="#EF2D5E" visible="false"></a-sphere>
      
      
        
      
      <!-- ********************************* -->
      <!--        Interactividad       -->        
      <!-- ********************************* -->
      
      
  
      
      <!--Imagen de fondo Purple Gain -->
      
      <a-box src="https://cdn.glitch.global/0d13447f-a502-45a9-8997-f3d16bc3f7c5/Final-VideosPurpleGain.png?v=1722521227378" depth="2" height="1.06" width="0.01" position="0.05 1.5 0.65" rotation="0 90 0"
      ></a-box>
      
            
      
      
     <!-- ********************************* -->
      <!--        Carteles       -->        
      <!-- ********************************* -->
       
  
       
           <!-- CartelHT -->
            
      <a-assets>
        <a-asset-item id="CartelHT" src="https://cdn.glitch.global/ce2176b8-73bc-4d44-bccc-77b7279b2a32/Cartel_HT.glb?v=1725753861831"></a-asset-item>
      </a-assets>
   

      <a-entity id="aaa" gltf-model="#CartelHT" scale="0.3 0.3 0.3" position="-2.3 0.87 -2.23" rotation= "0 90 0"></a-entity>
       
       
       
       <!-- CartelPTCSSB -->
            
      <a-assets>
        <a-asset-item id="CartelPTCSSB" src="https://cdn.glitch.global/ce2176b8-73bc-4d44-bccc-77b7279b2a32/Cartel_PTCSS_B.glb?v=1725753863102"></a-asset-item>
      </a-assets>
   

      <a-entity id="bbb" gltf-model="#CartelPTCSSB" scale="0.3 0.3 0.3" position="-2.6 1.07 -0.13" rotation= "0 90 0"></a-entity>
      
       
      <!-- CartelPTCSSM -->
            
      <a-assets>
        <a-asset-item id="CartelPTCSSM" src="https://cdn.glitch.global/ce2176b8-73bc-4d44-bccc-77b7279b2a32/Cartel_PTCSS_M.glb?v=1725753863569"></a-asset-item>
      </a-assets>
   

      <a-entity id="ccc" gltf-model="#CartelPTCSSM" scale="0.3 0.3 0.3" position="-1.4 1.57 -4" rotation= "0 30 0"></a-entity>
      
       
       <!-- CartelSCADA -->
            
      <a-assets>
        <a-asset-item id="CartelSCADA" src="https://cdn.glitch.global/ce2176b8-73bc-4d44-bccc-77b7279b2a32/Cartel_SCADA.glb?v=1725753864016"></a-asset-item>
      </a-assets>
   

      <a-entity id="ddd" gltf-model="#CartelSCADA" scale="0.3 0.3 0.3" position="2.010 1.65 -1.6" rotation= "0 -80 0"></a-entity>
      
      
       <!-- CartelSCADA -->
            
      <a-assets>
        <a-asset-item id="CartelPSAOR" src="https://cdn.glitch.global/ce2176b8-73bc-4d44-bccc-77b7279b2a32/Cartel_PSAOR.glb?v=1725753862526"></a-asset-item>
      </a-assets>
   

      <a-entity id="eee" gltf-model="#CartelPSAOR" scale="0.3 0.3 0.3" position="1.65 1.25 -4.85" rotation= "0 -45 0"></a-entity>
      
       
       
  <!-- Script para manejar el clic y escalar cada elemento de forma independiente -->
  <script>
    AFRAME.registerComponent('scale-on-click', {
      schema: {
        scale: {type: 'vec3', default: {x: 6, y: 6, z: 6}}  // Valor de escala por defecto
      },
      init: function () {
        var el = this.el;  // El elemento en el que se aplica el componente
        el.addEventListener('click', function () {
          // Cambiar la escala del elemento al hacer clic
          el.setAttribute('scale', el.getAttribute('scale').x === 0.3 ? {x: 1, y: 1, z: 1} : {x: 0.3, y: 0.3, z: 0.3});
        });
      }
    });

    // Asignar el componente a cada elemento por separado
    document.querySelector('#aaa').setAttribute('scale-on-click', '');
    document.querySelector('#bbb').setAttribute('scale-on-click', '');
    document.querySelector('#ccc').setAttribute('scale-on-click', '');
    document.querySelector('#ddd').setAttribute('scale-on-click', '');
    document.querySelector('#eee').setAttribute('scale-on-click', '');

  </script>
      
    
      

      <!-- ********************************* -->
      <!--        Assets Enviro       -->        
      <!-- ********************************* -->
      

        <!-- Lab Blockout -->
            
      <a-assets>
        <a-asset-item id="blockout" src="assets/Blockout_PP_TEXT_05.glb"></a-asset-item>
      </a-assets>
   
      <a-entity gltf-model="#blockout" scale="1 1 1" position="0 0 0"></a-entity>
      
      
      
         <!-- Valla -->
            
      <a-assets>
        <a-asset-item id="valla" src="https://cdn.glitch.me/ce2176b8-73bc-4d44-bccc-77b7279b2a32/Valla_Text_01.glb?v=1725651237311"></a-asset-item>
      </a-assets>
   
      <a-entity gltf-model="#valla" scale="1 1 1" position="0 0 0" material="repeat: 20 20"></a-entity>
      
      
      <!--ENVIRO -->
         
      <a-assets>
        <a-asset-item id=" ground" src="https://cdn.glitch.global/b4270e34-f59d-42cd-9363-648211ab99a5/FloorTiles_Stylized_desaturated.png?v=1684943219485"></a-asset-item>
      </a-assets>
      
      <a-image src="# ground" height="75" width="75" rotation="-90 90 0" repeat="29 29" roughness= "0.8" shader= "flat"></a-image>
      

      

    </a-scene>
  </body>

</html>
